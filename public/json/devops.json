{
    "devops": [
        {
            "introduction":[
                {"title": "ğŸš€ On-Prem Automated Application Deployment: CI/CD Pipeline Setup Using Azure DevOps â€“ A Proof of Concept"},
                {"meta": "Posted on: June 3, 2025 | By: H.Ragul"},
                {"image": "images/devops.png", "size": 400},
                {"summary": "This blog series will walk you through a proof of concept (PoC) implementation of an automated application deployment pipeline on an on-premises server, using a powerful combination of tools including Azure DevOps, GitHub, Docker, and Kubernetes (k3s). For local infrastructure setup, weâ€™ll be leveraging VMware Workstation Pro to provision virtual machines that will simulate a real-world server environment."},
                {"subtitle": "ğŸ¯ Objective"},
                {"content": "Our goal is to build a robust and scalable CI/CD pipeline that can automate the build, test, and deployment of applications on on-prem servers using Azure DevOps. Once we've proven this setup works in an on-premises environment, we will extend the same architecture to Azure Cloud, highlighting how easily DevOps practices can be scaled and migrated."},
                {"subtitle": "ğŸ”§ Tech Stack Overview"},
                {"content": "Hereâ€™s a quick snapshot of the tools and technologies weâ€™ll be using throughout this series:"},
                {"list": [
                    "Azure DevOps â€“ For CI/CD pipeline management and automation.",
                    "Git & GitHub â€“ Version control and source code management.",
                    "Docker â€“ Containerizing applications for consistent deployment.",
                    "Kubernetes (k3s) â€“ Lightweight Kubernetes distribution for orchestrating deployments.",
                    "VMware Workstation Pro â€“ Local VM provisioning to simulate on-prem infrastructure."
                ]},
                {"subtitle": "ğŸ“‚ What to Expect in This Series"},
                {"content": "This is the first in a series of blogs where we will progressively build and refine the CI/CD pipeline. Here's what you can look forward to:"},
                {"list": [
                    "Environment Setup â€“ Creating VMs with VMware, installing necessary dependencies.",
                    "Source Control Integration â€“ Connecting GitHub repositories with Azure DevOps.",
                    "CI Pipeline Implementation â€“ Automating the build and testing process.",
                    "Dockerization â€“ Building container images from source code.",
                    "CD Pipeline Implementation â€“ Deploying containers to a k3s cluster on-prem.",
                    "Monitoring & Logging â€“ Implementing basic observability tools.",
                    "Cloud Migration â€“ Replicating the entire setup on Azure Cloud."
                ]},
                {"subtitle": "ğŸ§ª Why a Proof of Concept?"},
                {"content": "A PoC allows us to validate the design and effectiveness of our DevOps approach in a controlled, local environment. Itâ€™s a low-risk way to identify gaps, improve configurations, and build confidence before scaling to production or migrating to the cloud."},
                {"subtitle": "ğŸŒ Ready to Dive In?"},
                {"content": "Whether you're a DevOps engineer looking to explore hybrid deployment strategies or an IT team trying to modernize legacy systems, this series will provide practical insights and step-by-step guidance to build a CI/CD pipeline that works both on-prem and in the cloud."},
                {"content": "Stay tuned for the next blog where we'll begin with setting up the on-prem environment and preparing our VMs for deployment."},
                {"content": "Letâ€™s automate, orchestrate, and innovateâ€”<b>on-prem first, cloud next!</b>"}
            ],

            "environment": [
                {"title": "ğŸ› ï¸ Environment Setup for On-Prem Automated Application Deployment: CI/CD Pipeline with Azure DevOps"},
                {"meta": "Posted on: June 4, 2025 | By: H.Ragul"},
                {"summary": "To achieve a fully automated application deployment in an <b>on-premise</b> environment using a <b>CI/CD pipeline powered by Azure DevOps</b>, the first step is to set up a reliable and scalable <b>local environment</b>. In this blog post, Iâ€™ll walk you through how I configured my setup to support this pipeline. This allows for a seamless DevOps experienceâ€”<b>without relying on cloud-hosted infrastructure</b> for core pipeline execution. ğŸš€"},
                {"image": "images/vmware.png", "size": 600},
                {"subtitle": "ğŸ§° Tools and Technologies Used"},
                {"content": "Hereâ€™s a quick overview of the tools involved:"},
                {"list": [
                    "ğŸ’» <b>VMware Workstation Pro</b> â€“ For creating and managing local virtual machines",
                    "ğŸ”§ <b>Azure DevOps</b> â€“ To manage the CI/CD pipeline",
                    "ğŸŒ <b>GitHub</b> â€“ As the centralized version control system",
                    "ğŸ³ <b>Docker</b> â€“ For containerizing and running application components",
                    "â˜¸ï¸ <b>K3s</b> â€“ Lightweight Kubernetes distribution as the deployment target",
                    "ğŸ—‚ï¸ <b>Git</b> â€“ For source code management on the agent VM"
                ]},
                {"subtitle": "ğŸ§± Local Environment Configuration"},
                {"content": "To simulate a production-like on-prem environment, I set up <b>two virtual machines (VMs)</b> on <b>VMware Workstation Pro</b>. These VMs serve as the foundation of our DevOps infrastructure:"},
                {"subheading": "1ï¸âƒ£ Agent Server"},
                {"content": "This VM is the workhorse of the CI/CD pipeline:"},
                {"list": [
                    "ğŸ¤– <b>Azure DevOps Agent</b>: Installed and configured as a self-hosted runner to execute pipeline jobs locally.",
                    "ğŸ³ <b>Docker</b>: Installed to handle container builds and execution.",
                    "ğŸ”— <b>Git</b>: Set up for source control to enable pulling and pushing code as needed."
                ]},
                {"content": "<i>ğŸ’¡ The agent server runs all major pipeline operations: building, testing, and packaging the app.</i>"},
                {"subheading": "2ï¸âƒ£ K3s Server"},
                {"content": "This VM acts as the deployment target:"},
                {"list": [
                    "â˜¸ï¸ <b>K3s (Kubernetes lightweight distribution)</b>: Installed to simulate a real Kubernetes cluster in an on-prem setup.",
                    "ğŸ“¦ This is where the final application is deployed once itâ€™s built and tested by the agent."
                ]},
                {"content": "<i>ğŸ’¡ K3s gives us a Kubernetes environment with a smaller footprintâ€”perfect for local testing.</i>"},
                {"subtitle": "ğŸ”„ Version Control with GitHub"},
                {"content": "Even though the CI/CD process runs locally, the <b>source code is hosted on GitHub</b>:"},
                {"list": [
                    "ğŸ” Centralized and secure source control",
                    "ğŸ”„ Integrated with Azure DevOps through service connections",
                    "ğŸ‘¥ Enables team collaboration and clean version tracking"
                ]},
                {"content": "This hybrid approach keeps the <b>pipeline execution local</b> but uses cloud-based GitHub for version management and collaboration."},
                {"subtitle": "âœ… Conclusion"},
                {"content": "With this setup, we now have a <b>fully functional on-prem environment</b> ready for automated deployments using Azure DevOps. This configuration:"},
                {"list": [
                    "Mimics a real production environment ğŸ’¼",
                    "Offers flexibility and control âš™ï¸",
                    "Reduces reliance on cloud infrastructure ğŸŒ"
                ]},
                {"content": "Next up, Iâ€™ll guide you through configuring the <b>Azure DevOps pipeline</b> itselfâ€”connecting it to the agent, building Docker images, and deploying them to the K3s cluster. ğŸ”§ğŸ“¦ğŸš€"},
                {"content": "<b>Stay tuned!</b> ğŸ‘€"}
            ],
            "activation": [
                {"title": "Agent Server Activation for On-Prem Automated Application Deployment: CI/CD Pipeline with Azure DevOps ğŸš€"},
                {"meta": "Posted on: June 5, 2025 | By: H.Ragul"},
                {"summary": "In this post, I'll walk you through how I set up the agent server ğŸ–¥ï¸. We'll begin with the installation of Docker ğŸ³ and the Azure DevOps pipeline agent âš™ï¸. These installations are fairly straightforward, so Iâ€™ll simply include the official documentation links below for your reference ğŸ“„ğŸ”—."},
                {"image": "images/registry.png", "size": 600},
                {"content": "<i>ğŸ’¡ CentOS is used as the operating system for the server setup ğŸ§</i>"},
                {"content": "Useful Links: <a href='https://docs.docker.com/engine/install/centos/'>Install Docker Engine on CentOS</a> | <a href='https://learn.microsoft.com/en-us/azure/devops/pipelines/agents/windows-agent?view=azure-devops&tabs=IP-V4'>Self-hosted Windows agents</a>"},
                {"subtitle": "ğŸš€ Steps to Set Up a Docker Local Registry"},
                {"subheading": "ğŸ› ï¸ Configure Docker Daemon"},
                {"content": "1. Add the following JSON configuration to the <span className='poppins-light' style='background-color: #1C1D21; color: white; padding: 0 5px;'>/etc/docker/daemon.json</span> file. If the file doesn't exist, create it:"},
                {"code": "{\n 'insecure-registries': ['<your-ip>:5000']\n}"},
                {"content": "2. Restart Docker to apply the changes:"},
                {"code": "systemctl restart docker"},
                {"content": "3. Ensure Docker is running:"},
                {"code": "systemctl status docker"},
                {"subheading": "ğŸ—‚ï¸ Set Up Local Registry Storage"},
                {"content": "4. Create a directory to store your Docker images:"},
                {"code": "mkdir /registry"},
                {"content": "5. Grant full permissions to the directory:"},
                {"code": "chmod 777 /registry"},
                {"content": "6. Verify the permissions:"},
                {"code": "ls -lrt | grep -i registry"},
                {"content": "<i>ğŸ’¡ Note: The directory can be located anywhere and named as desired. Just make sure to use the correct path in the Docker run command.</i>"},
                {"subheading":"ğŸ³ Run the Local Docker Registry"},
                {"content": "7. Launch the registry container:"},
                {"code": "docker run -d -p 5000:5000 --restart=always --name registry -v /registry:/var/lib/registry registry:latest"},
                {"content": "<i>ğŸ” Port 5000 (container) is mapped to port 5000 (host).</i>"},
                {"content": "8. Verify that the registry container is running:"},
                {"code": "docker ps"},
                {"content": "9. Test the registry endpoint:"},
                {"code": "curl http://<your-ip>:5000/v2/_catalog"},
                {"content": "âœ… Sample output:"},
                {"code": "{'repositories':[]}"},
                {"subtitle": "âœ… Conclusion"},
                {"content": "In this setup, I have successfully configured my <b>own local Docker registry</b> ğŸ³. This allows for efficient local image management and testing ğŸ§ª."},
                {"content": "Once local deployment and testing are successful âœ…, we will proceed to use the <b>Azure Container Registry (ACR)</b> â˜ï¸ğŸ” for production or cloud-based deployments."}
            ],
            "build": [
                {"title": "ğŸš€ Automated React Application Building: CI/CD Pipeline Setup Using Azure DevOps"},
                {"meta": "Posted on: June 7, 2025 | By: H.Ragul"},
                {"image": "images/pipeline.png", "size": 800},
                {"summary": "ğŸ‘‹ In our previous blog, we walked through how to set up an agent server to run an Azure DevOps CI/CD pipeline. If you haven't checked it out yet, we recommend giving it a read first! ğŸ§‘â€ğŸ’»"},
                {"content": "Now that your agent server is all set, letâ€™s take it to the next level ğŸ¯â€”automating the build process for a React application every time you push code to your GitHub repository. Yes, you heard that right! Every commit to the main branch will trigger a build pipeline in Azure DevOps. ğŸ”âš™ï¸"},
                {"subtitle": "ğŸ¬ What Are We Setting Up?"},
                {"content": "We'll be creating a CI pipeline that:"},
                {"list": [
                    "1. Listens for code changes in the main branch ğŸ“¥",
                    "2. Installs the required dependencies ğŸ§©",
                    "3. Builds the React app ğŸ—ï¸",
                    "4. Publishes the build output as an artifact ğŸ“¦"
                ]},
                {"content": "This makes it super easy to automate your front-end deployment process."},
                {"subtitle": "ğŸ“„ Azure Pipeline YAML Script"},
                {"code": "# Azure pipeline yaml script for building react app.\n\ntrigger:\n- main\n\npool:\n  name: Default\n\nsteps:\n- script: npm install\n  displayName: 'Install Binaries'\n\n- script: npm run build\n  displayName: 'Build React App'\n\n- task: PublishBuildArtifacts@1\n  inputs:\n    PathtoPublish: '$(Build.SourcesDirectory)/dist'\n    ArtifactName: 'react-app'\n    publishLocation: 'Container'"},
                {"subheading": "ğŸ§© Trigger Section"},
                {"code": "trigger:\n- main"},
                {"subheading": "ğŸ” Whatâ€™s Happening Here?"},
                {"content": "This line tells Azure DevOps to trigger the pipeline <b>every time a change is pushed to the</b> <span className='poppins-light' style='background-color: #1C1D21; color: white; padding: 0 5px;'>main</span> branch. Super handy for CI/CD workflows! ğŸ› ï¸"},
                {"subheading": "ğŸŠâ€â™‚ï¸ Define the Pool"},
                {"code": "pool:\n  name: Default"},
                {"subheading": "ğŸ–¥ï¸ Explanation"},
                {"content": "Here, weâ€™re specifying the <b>agent pool</b> to use â€” in this case, it's the Default pool. This is where the pipeline will execute its jobs. Think of it as the machine doing all the heavy lifting. ğŸ’ª"},
                {"subheading": "ğŸ› ï¸ Steps to Build and Deploy"},
                {"subheading": "1ï¸âƒ£ Install Dependencies"},
                {"code": "- script: npm install\n  displayName: 'Install Binaries'"},
                {"content": "ğŸ§° This step uses npm install to download and install all the project dependencies listed in your <span className='poppins-light' style='background-color: #1C1D21; color: white; padding: 0 5px;'>package.json</span>. It's like stocking up the toolbox before starting the work! ğŸ§µğŸ”§"},
                {"subheading": "2ï¸âƒ£ Build the React App"},
                {"code": "- script: npm run build\n  displayName: 'Build React App'"},
                {"content": "ğŸ—ï¸ This command compiles your React app into a production-ready bundle. The output usually goes into a folder like <span className='poppins-light' style='background-color: #1C1D21; color: white; padding: 0 5px;'>dist</span> or <span className='poppins-light' style='background-color: #1C1D21; color: white; padding: 0 5px;'>build</span>. It's the final packaging of your web application! ğŸ“¦ğŸŒ"},
                {"subheading": "3ï¸âƒ£ Publish the Build Artifacts"},
                {"code": "- task: PublishBuildArtifacts@1\n  inputs:\n    PathtoPublish: '$(Build.SourcesDirectory)/dist'\n    ArtifactName: 'react-app'\n    publishLocation: 'Container'"},
                {"content": "ğŸ“¤ This task <b>publishes your compiled app</b> as an artifact named <span className='poppins-light' style='background-color: #1C1D21; color: white; padding: 0 5px;'>react-app</span>, which can then be downloaded, deployed, or used in release pipelines. It's like uploading your finished work to the cloud shelf for future use. â˜ï¸ğŸ“"},
                {"subheading": "ğŸ“ Note:"},
                {"content": "The entire build process runs on our <b>self-hosted Linux runner machine</b> ğŸ§. Since we're building a React app âš›ï¸, the runner is pre-configured with <b>Node.js</b> ğŸŸ¢ and <b>Git</b> ğŸ§‘â€ğŸ’» to ensure the pipeline works smoothly when the agent is activated."},
                {"subtitle": "ğŸ‰ Conclusion"},
                {"content": "With just a few lines of YAML, you've created a pipeline that:"},
                {"list": [
                    "ğŸš€ Triggers on code changes",
                    "ğŸ“¦ Installs dependencies",
                    "ğŸ—ï¸ Builds your React app",
                    "â˜ï¸ Publishes the output as a build artifact"
                ]},
                {"content": "ğŸ”œ Next, we'll build a Docker image ğŸ³ using the generated build artifact. This image will run an Express server ğŸš€ to serve the React app âš›ï¸ efficiently."}
            ],
            "release": [
                {"title": "ğŸš€ Building Docker Image & Pushing to Local Docker Registry: CI/CD Pipeline Setup Using Azure DevOps ğŸ³"},
                {"meta": "Posted on: June 8, 2025 | By: H.Ragul"},
                {"image": "images/release.png", "size": 800},
                {"summary": "In this blog, weâ€™ll walk through setting up a CI/CD release pipeline in Azure DevOps to build a Docker image and push it to a local Docker registry. This is a crucial part of modern DevOps workflows, especially when you're deploying apps within private environments."},
                {"content": "<i>ğŸ’¡ Note: If you're working in Azure DevOps and suddenly can't find the 'Release' option in your portal, donâ€™t worry â€” you're not alone! ğŸ˜… Microsoft has been gradually nudging users toward the new YAML-based pipelines, and in that process, some classic features like Release pipelines may appear hidden or disabled.</i>"},
                {"content": "<i>But fear not â€” there's a quick fix! âœ… Just follow the steps below to re-enable the classic release pipeline option in your organization and project settings.</i>"},
                {"content": "Letâ€™s get into the details! ğŸ‘‡"},
                {"subtitle": "ğŸ¯ Objective"},
                {"content": "We want to:"},
                {"list": [
                    "Build a Docker image from the artifact generated by the Azure DevOps build pipeline ğŸ› ï¸",
                    "Push that image to a local Docker registry hosted at Your-IP:5000 ğŸ”"
                ]},
                {"subtitle": "ğŸ” Step-by-Step Guide to Re-enable 'Release' Option"},
                {"subheading": "âœ… Step 1: Organization Settings"},
                {"list": [
                    "Go to Azure DevOps Portal",
                    "Navigate to ğŸ‘‰ Organization Settings (bottom-left corner)",
                    "Click on Pipelines > Settings",
                    "Look for the option â€œDisable creation of classic release pipelinesâ€",
                    "Make sure this is turned OFF âŒ"
                ]},
                {"content": "ğŸ” Turning this off ensures that your organization can create classic release pipelines again."},
                {"subheading": "âœ… Step 2: Project Settings"},
                {"list": [
                    "Now, navigate to your specific Project",
                    "Go to ğŸ‘‰ Project Settings > Pipelines > Settings",
                    "Again, look for â€œDisable creation of classic release pipelinesâ€",
                    "Ensure this setting is also turned OFF âŒ"
                ]},
                {"content": "ğŸ” This step makes sure the feature is enabled at the project level as well â€” both are required!"},
                {"subheading": "ğŸ”„ Refresh & Recheck"},
                {"content": "Once you've completed both steps, refresh your DevOps portal and head over to Pipelines > Releases. ğŸ‰ The missing 'Release' tab should now be visible!"},
                {"subtitle": "ğŸ“¦ Release Pipeline: Docker Build & Push Steps"},
                {"content": "During the release (deployment) stage in Azure DevOps, the following commands are executed to complete the process:"},
                {"code": "echo '******************** Execution Starts Here ********************'\n\n# âœ… Copy build artifacts to the working directory\ncp -pr $(System.DefaultWorkingDirectory)/_Er-Ragul.devops/react-app/* /home/runner/artifacts/public\n\ncp -pr $(System.DefaultWorkingDirectory)/_WebApp/* /home/runner/artifacts\n\n# ğŸ“ Change to the artifacts directory\ncd /home/runner/artifacts\n\n# ğŸ› ï¸ Build the Docker image using the Dockerfile in the artifacts directory\ndocker build -t <Your-IP>:5000/raguls:v1 .\n\n# ğŸš€ Push the image to the local Docker registry\ndocker push <Your-IP>:5000/raguls:v1\n\necho '******************** Execution Ends Here ********************'"},
                {"subtitle": "ğŸ§© What's Happening Here?"},
                {"content": "Letâ€™s break it down:"},
                {"list": [
                    "ğŸ“‚ We copy artifacts from the build pipeline output to a designated working directory on the runner.",
                    "ğŸ³ We build a Docker image using the Dockerfile present in the artifacts.",
                    "ğŸ“¤ Finally, we push the image to the local registry with the tag raguls:v1."
                ]},
                {"content": "<i>Make sure the local Docker registry is up and running, and your agent has network access to it.</i>"},
                {"subtitle": "ğŸ›¡ï¸ Local Docker Registry â€“ Why?"},
                {"content": "Using a local Docker registry is super handy when:"},
                {"list": [
                    "Working in an air-gapped environment ğŸ”’",
                    "You want faster deployments within your internal network ğŸš„",
                    "Managing private containers that shouldn't be exposed to Docker Hub or cloud registries"
                ]},
                {"subtitle": "âœ… Final Thoughts"},
                {"content": "With this setup, your CI/CD pipeline in Azure DevOps can:"},
                {"list": [
                    "Automatically generate builds ğŸ“¦",
                    "Build Docker images ğŸ§±",
                    "Push them securely to your local registry ğŸ—ƒï¸"
                ]},
                {"content": "This lays the groundwork for a smooth deployment experience in your private infrastructure. ğŸ’ª"}
            ]
        }
    ]
}